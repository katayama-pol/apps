# linebot.gs
## 処理概要
LINE Botのプログラム。
LINEからのメッセージを受け取り、メッセージ内容に応じた返答をする。
今日や今週の予定を取得して応答したり、googleカレンダーに予定を追加する。

<br />

## 関数概要
### doPost()
* LINEからメッセージを受け取る。  
GetMessage()を呼び出す。

<br />

### GetMessage()
* 受け取ったメッセージに応じた処理を実行する。  
１．「追加」の場合  
予定の開始日・終了日・予定名を入力させて、googleカレンダーに登録する。  
途中で「キャンセル」で追加処理をキャンセルできる。  
２．「今日」の場合  
getEvents()を呼び出して今日の予定を取得し、LINEにメッセージを送信する。  
３．「今週」の場合  
notifyWeekly()を呼び出して今週の予定を取得し、LINEにメッセージを送信する。

<br />

### createData()
* LINEのメッセージで送信されてきた予定の時間から、googleカレンダー登録用の日時を生成する。  

<br />

### EventFormat()
* 予定の日付を年月日の形式にフォーマットする。  

<br />

### replyPlans()
* 複数のメッセージをLINEに送信する。  

<br />

### reply()
* メッセージをLINEに送信する。  

<br />

### getEvents()
* googleカレンダーから今日の予定を取得し、フォーマットしたメッセージを返す。  

<br />

### notifyWeekly()
* googleカレンダーから今週の予定を取得し、フォーマットしたメッセージを返す。  

<br />

### HmFormat()
* 日付を"HH:mm"形式に変換する。  